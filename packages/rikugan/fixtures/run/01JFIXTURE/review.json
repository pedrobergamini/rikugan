{
  "version": "1.0",
  "runId": "01JFIXTURE",
  "createdAt": "2026-01-25T12:00:00.000Z",
  "ai": {
    "usedCodex": true,
    "model": "gpt-5.2-codex",
    "reasoningEffort": "xhigh"
  },
  "repo": {
    "root": "/repo",
    "headSha": "abc123",
    "branch": "main",
    "dirty": false
  },
  "diffSource": { "kind": "diff-file", "spec": "fixtures/sample.diff" },
  "stats": { "filesChanged": 1, "insertions": 7, "deletions": 1 },
  "diff": {
    "files": [
      {
        "filePath": "src/foo.ts",
        "hunks": [
          {
            "id": "src/foo.ts:1,6:1,9",
            "oldStart": 1,
            "oldLines": 6,
            "newStart": 1,
            "newLines": 9,
            "lines": [
              {
                "type": "context",
                "content": "export function add(a: number, b: number) {",
                "oldLine": 1,
                "newLine": 1
              },
              { "type": "del", "content": "  return a + b;", "oldLine": 2 },
              { "type": "add", "content": "  const sum = a + b;", "newLine": 2 },
              { "type": "add", "content": "  return sum;", "newLine": 3 },
              { "type": "context", "content": "}", "oldLine": 3, "newLine": 4 }
            ]
          }
        ]
      }
    ]
  },
  "groups": [
    {
      "id": "g1",
      "title": "Arithmetic helper tweaks",
      "rationale": "Refines the addition helper to make intermediate computation explicit.",
      "reviewFocus": ["Behavior parity for add()", "Any downstream reliance on direct return"],
      "risk": "medium",
      "hunkIds": ["src/foo.ts:1,6:1,9"],
      "suggestedTests": ["Run calculator unit tests"]
    }
  ],
  "contextNotes": [
    {
      "id": "cn1",
      "title": "Intermediate value makes arithmetic extensible",
      "bodyMarkdown": "The helper now assigns the addition result to a named `sum` variable instead of returning it inline. That looks cosmetic, but it usually signals intent to reuse or extend the value (e.g., future validation, telemetry, or overflow handling) without rewriting the signature.\n\nIf later changes introduce checks or rounding, this structure keeps the logic centralized and makes it safer to evolve `add()` without surprising downstream callers.",
      "confidence": 0.61,
      "groupId": "g1",
      "hunkIds": ["src/foo.ts:1,6:1,9"]
    }
  ],
  "annotations": [
    {
      "id": "a1",
      "kind": "explain",
      "confidence": 0.7,
      "title": "Guarded division",
      "bodyMarkdown": "Division now throws when `b === 0`.",
      "anchor": {
        "filePath": "src/foo.ts",
        "side": "new",
        "line": 8,
        "hunkId": "src/foo.ts:1,6:1,9"
      },
      "actions": [{ "label": "Ask about this", "action": "openChat", "scope": "group" }]
    }
  ],
  "findings": [
    {
      "id": "f1",
      "kind": "flag",
      "flagClass": "investigate",
      "confidence": 0.4,
      "title": "Division by zero now throws",
      "detailMarkdown": "Ensure callers handle the thrown error.",
      "evidence": [
        {
          "filePath": "src/foo.ts",
          "side": "new",
          "lineRange": [7, 9],
          "hunkId": "src/foo.ts:1,6:1,9"
        }
      ],
      "status": "open"
    }
  ]
}
